<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Orbitâ€‘Runner</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="welcome-screen" class="welcome-container">
    <div class="welcome-card">
      <div class="welcome-emoji">ðŸš€</div>
      <h1 class="welcome-title">Orbit Runner<br/>3D</h1>
      <h2 class="welcome-sub">Multiplayer Space Combat</h2>
      <input id="pilot-name-input" class="welcome-input" type="text" maxlength="24" placeholder="Enter your pilot name..." />
      <button id="launch-btn" class="welcome-btn" disabled>Launch Into Space</button>
      <p class="welcome-desc">Join other pilots in real-time 3D space combat! Fly, fight, and explore together in the asteroid belt.</p>
    </div>
  </div>

  <canvas id="gameCanvas"></canvas>

  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.164.0/build/three.module.min.js"
    }
  }
  </script>

  <!-- Load Three.js ESM directly from node_modules, then start the game -->
  <script type="module">
    // Point client to Railway API in production; keep localhost auto-detect for local dev
    if (!location.hostname.match(/^(localhost|127\.0\.0\.1)/)) {
      window.ORBIT_RUNNER_API = 'https://orbit-runner-production.up.railway.app';
    }
    import * as THREE from 'https://unpkg.com/three@0.164.0/build/three.module.min.js';
    window.THREE = THREE;
    // Cache-bust main.js so changes always load on refresh during development
    await import(`./main.js?cb=${Date.now()}`);
  </script>
</body>
</html>
